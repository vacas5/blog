{"data":{"site":{"siteMetadata":{"title":"Russell J. Anderson, Web Developer","author":"Russell J. Anderson"}},"markdownRemark":{"id":"40580814-791d-555a-84ce-bf4b1f9e43e6","html":"<p>In recent weeks at <a href=\"http://lonelyplanet.com\">Lonely Planet</a> we’ve embarked on a fresh application using <a href=\"https://nextjs.org/\">Next.js</a>. It’s exciting to work on something so bleeding edge, and it looks to be a helpful library.</p>\n<p>We’re still setting up tooling, and we are already getting warnings from <a href=\"http://npmjs.org\">npm</a> command line when we install. Certain packages that we rely on themselves have outdated dependencies, so we’re already behind the eight ball.</p>\n<p>I’ve had a little time to focus on tech debt this week so it’s been something I’ve tried to tackle. I’ve been down the rabbit hole, and I’m here to report that one can successfully update dependencies, but it will leave one scarred.</p>\n<h2 id=\"dependencies-are-tech-debt-by-nature\"><a href=\"#dependencies-are-tech-debt-by-nature\" aria-label=\"dependencies are tech debt by nature permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>dependencies are tech debt by nature</h2>\n<p>Why is this such a hard process?</p>\n<h2 id=\"the-process\"><a href=\"#the-process\" aria-label=\"the process permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The process</h2>\n<h3 id=\"beginning-with-an-install\"><a href=\"#beginning-with-an-install\" aria-label=\"beginning with an install permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Beginning with an install</h3>\n<p>Let’s just start by running</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm i</code></pre></div>\n<p>I’m using node version 10.15.1 btw. Here’s what that yields:</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f76523ab09c739c800c237e8d611c4fa/dfb5f/initial_install.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 26.151315789473685%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAcOgQD//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAEFAn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAWEAEBAQAAAAAAAAAAAAAAAAABABD/2gAIAQEAAT8hSc//2gAMAwEAAgADAAAAEPPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGBABAAMBAAAAAAAAAAAAAAAAAQAQESH/2gAIAQEAAT8Q6uMBX//Z'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"install results with warnings\"\n        title=\"\"\n        src=\"/static/f76523ab09c739c800c237e8d611c4fa/f8fb9/initial_install.jpg\"\n        srcset=\"/static/f76523ab09c739c800c237e8d611c4fa/e8976/initial_install.jpg 148w,\n/static/f76523ab09c739c800c237e8d611c4fa/63df2/initial_install.jpg 295w,\n/static/f76523ab09c739c800c237e8d611c4fa/f8fb9/initial_install.jpg 590w,\n/static/f76523ab09c739c800c237e8d611c4fa/85e3d/initial_install.jpg 885w,\n/static/f76523ab09c739c800c237e8d611c4fa/d1924/initial_install.jpg 1180w,\n/static/f76523ab09c739c800c237e8d611c4fa/9452e/initial_install.jpg 1770w,\n/static/f76523ab09c739c800c237e8d611c4fa/dfb5f/initial_install.jpg 2432w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<h3 id=\"npm-audit-fix\"><a href=\"#npm-audit-fix\" aria-label=\"npm audit fix permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>npm audit fix</h3>\n<p>Let’s start with those last couple of lines, the one about how it “found 608 vulnerabilities (39 low, 556 moderate, 12 high, 1 critical)“. That sounds bad. So, it suggests I try to run <code class=\"language-text\">npm audit</code> to fix. So, first I’ll investigate what that <a href=\"https://docs.npmjs.com/cli/audit\">actually does</a>.</p>\n<p>So, the output of audit looks pretty intimidating. It shows me a fair amount of warnings in packages several levels deep. I’m going to make a commit to my package-lock.json right now, and then run <code class=\"language-text\">npm audit fix</code> and see what happens.</p>\n<p>Here’s what it says afterwards:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">+ lodash@4.17.11\nadded 18 packages from 41 contributors, removed 35 packages, updated 4 packages and moved 3 packages in 12.762s\nfixed 36 of 608 vulnerabilities in 28300 scanned packages\n  8 package updates for 572 vulns involved breaking changes\n  (use `npm audit fix --force` to install breaking changes; or refer to `npm audit` for steps to fix these manually)</code></pre></div>\n<p>Taking a look at things, it made a LOT of changes to my package-lock.json but only one change to package.json. Conceivably, this would mean that the next time I run <code class=\"language-text\">npm install</code>, it will go back to a vulnerable build again. I run my <code class=\"language-text\">npm run dev</code> command though and everything seems to be peachy, even with all the dependency tree changes, so I am going to commit and proceed.</p>\n<p>Okay so I tested running <code class=\"language-text\">npm install</code> again and here’s what I got:\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1faba69bd8006b22f970855066f528d2/94e4c/after_audit.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 17.488076311605724%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAEDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAcWAqB//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAEFAn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAYEAACAwAAAAAAAAAAAAAAAAAAAREhUf/aAAgBAQABPyHBqiT/2gAMAwEAAgADAAAAEP8Az//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABkQAAMBAQEAAAAAAAAAAAAAAAABEVEhMf/aAAgBAQABPxBKqhSvvmlaf//Z'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"fewer warnings after audit\"\n        title=\"\"\n        src=\"/static/1faba69bd8006b22f970855066f528d2/f8fb9/after_audit.jpg\"\n        srcset=\"/static/1faba69bd8006b22f970855066f528d2/e8976/after_audit.jpg 148w,\n/static/1faba69bd8006b22f970855066f528d2/63df2/after_audit.jpg 295w,\n/static/1faba69bd8006b22f970855066f528d2/f8fb9/after_audit.jpg 590w,\n/static/1faba69bd8006b22f970855066f528d2/85e3d/after_audit.jpg 885w,\n/static/1faba69bd8006b22f970855066f528d2/d1924/after_audit.jpg 1180w,\n/static/1faba69bd8006b22f970855066f528d2/94e4c/after_audit.jpg 1258w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>That looks like progress. And, I don’t have any package-lock changes, so let’s continue moving forward!</p>\n<h3 id=\"fixing-a-peer-dependency-warning\"><a href=\"#fixing-a-peer-dependency-warning\" aria-label=\"fixing a peer dependency warning permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>fixing a peer dependency warning</h3>\n<p>Okay so I’ve got this warning about the “friendly-errors-webpack-plugin”, however, that is not listed in my package.json at all, so I’ll do some digging to see what depends on it. I can run <code class=\"language-text\">npm ls friendly-errors-webpack-plugin</code> to find out where it is in the tree.</p>\n<p>After running it tells me that it’s a dependency of “gatsby@1.9.277”. I sort of knew I’d need to update all of gatsby to 2.0. It should be done anyway but this is definitely biting off a bit more.</p>\n<p>Before I do that, I am curious about which webpack version is actually installed. I run <code class=\"language-text\">npm ls webpack</code> and it returns me… nothing. Which is weird, because it’s in my node<em>modules folder. Sure enough, there is webpack@1.15.0. Weird. Deleting my node</em>modules folder and then <code class=\"language-text\">npm i</code> again. Still nothing in <code class=\"language-text\">npm ls webpack</code> even though it’s clearly there. Rabbit trail, moving on.</p>\n<p>So, the underlying issue here is that a package we rely on <code class=\"language-text\">gatsby@1.9.277</code> depends on an old version of webpack, but depends on another package that expects a NEWER version of webpack. This is pervasive dependency hell, everyone.</p>\n<p>To try and resolve, I am going to run <code class=\"language-text\">npm outdated</code> and see if theres a minor fix or something I could use that might resolve the issue. Here’s what that looks like:\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a8634c446246142651c3a66fdf0be729/a39a2/outdated.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 77.08703374777976%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHhrIyK/8QAFxAAAwEAAAAAAAAAAAAAAAAAAQIQMf/aAAgBAQABBQIxtJjb/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8BJ//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABgQAQADAQAAAAAAAAAAAAAAAAEAEEEh/9oACAEBAAE/ITsF5YGUf//aAAwDAQACAAMAAAAQz8//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPxBn/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Qo//EAB0QAQACAQUBAAAAAAAAAAAAAAEAESFBUWGBkbH/2gAIAQEAAT8QAFX7NQchPnCLBb4gb6RXjtP/2Q=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"output of npm outdated\"\n        title=\"\"\n        src=\"/static/a8634c446246142651c3a66fdf0be729/f8fb9/outdated.jpg\"\n        srcset=\"/static/a8634c446246142651c3a66fdf0be729/e8976/outdated.jpg 148w,\n/static/a8634c446246142651c3a66fdf0be729/63df2/outdated.jpg 295w,\n/static/a8634c446246142651c3a66fdf0be729/f8fb9/outdated.jpg 590w,\n/static/a8634c446246142651c3a66fdf0be729/85e3d/outdated.jpg 885w,\n/static/a8634c446246142651c3a66fdf0be729/a39a2/outdated.jpg 1126w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>This is a very handy command. It shows you which version you’re on, the highest available minor/patch release under “Wanted” and then latest available major release under “Latest”. If you’re not on the Latest, you should consider upgrading, but you’re gonna have a bad time.</p>\n<p>So, contrary to what you might expect, red means go, yellow means stop, and green is… non-existent. Packages in red should be able to be safely updated to the latest minor or patch version with trivial changes. Let’s try it. Running <code class=\"language-text\">npm update gatsby</code> to get the patch updates. Now look what I get:</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/64a4dcfeee45f60ff75c6dc12c977528/f637c/after_gatsby_update.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 14.63614063777596%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAcWsIg//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAEFAn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAXEAEBAQEAAAAAAAAAAAAAAAABABFR/9oACAEBAAE/IWV7bf/aAAwDAQACAAMAAAAQA8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAYEAEAAwEAAAAAAAAAAAAAAAABABExcf/aAAgBAQABPxBKqrfZS1FOs//Z'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"output showing more warnings\"\n        title=\"\"\n        src=\"/static/64a4dcfeee45f60ff75c6dc12c977528/f8fb9/after_gatsby_update.jpg\"\n        srcset=\"/static/64a4dcfeee45f60ff75c6dc12c977528/e8976/after_gatsby_update.jpg 148w,\n/static/64a4dcfeee45f60ff75c6dc12c977528/63df2/after_gatsby_update.jpg 295w,\n/static/64a4dcfeee45f60ff75c6dc12c977528/f8fb9/after_gatsby_update.jpg 590w,\n/static/64a4dcfeee45f60ff75c6dc12c977528/85e3d/after_gatsby_update.jpg 885w,\n/static/64a4dcfeee45f60ff75c6dc12c977528/d1924/after_gatsby_update.jpg 1180w,\n/static/64a4dcfeee45f60ff75c6dc12c977528/9452e/after_gatsby_update.jpg 1770w,\n/static/64a4dcfeee45f60ff75c6dc12c977528/f637c/after_gatsby_update.jpg 2446w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>Well, damn! Now I have more warnings. This is wild. Let’s check and see if my app still works (it should). The app works great. Luckily it’s pretty basic, but imagine the regression testing you’d need to do on a complex application.</p>\n<p>So, I went ahead and ran <code class=\"language-text\">npm audit fix</code> again, and those other warnings went away! Not sure exactly how, but that’s a bonus. Still stuck with the “friendly-errors-webpack-plugin” error though.</p>\n<h3 id=\"bumping-something-based-on-a-starter\"><a href=\"#bumping-something-based-on-a-starter\" aria-label=\"bumping something based on a starter permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>bumping something based on a starter</h3>\n<p>Okay so as I suspected, I am going to have to bump Gatsby entirely. Checking out my outdated, you can see how many gatsby related dependencies I use. My guess is that most of these are going to need to be bumped simultaneously. This is going to be tricky if any of them don’t support the newer version of gatsby.</p>\n<p>How does one even go about doing this? Well, I based this project off of a starter, <a href=\"https://github.com/noahg/gatsby-starter-blog-no-styles\">gatsby-starter-blog-no-styles</a>, so I’m going to check and see if that starter project has updated it’s dependencies. Goodie, they have not. ARGH.</p>\n<h3 id=\"start-with-the-big-matzo-ball\"><a href=\"#start-with-the-big-matzo-ball\" aria-label=\"start with the big matzo ball permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>start with the big matzo ball</h3>\n<p>Failing that, I’m going to go to Gatsby’s page and look at my instructions for upgrading. Luckily, they are well documented in a <a href=\"https://www.gatsbyjs.org/docs/migrating-from-v1-to-v2/\">blog post</a>.</p>\n<p>I am going to basically have to go through this whole thing.</p>\n<p>Pro-tip: have a lot of test coverage</p>","frontmatter":{"title":"The nine circles of npm dependency hell","date":"February 13, 2019","path":"/dependency-hell/"},"excerpt":"In recent weeks at  Lonely Planet  we’ve embarked on a fresh application using  Next.js . It’s exciting to work on something so bleeding…"},"unsplashPhoto":{"id":"Gf47cZJxrSw","description":"assorted coloring papers","urls":{"full":"https://images.unsplash.com/photo-1542666594-15c7b33d17ac?ixlib=rb-1.2.1&q=85&fm=jpg&crop=entropy&cs=srgb&ixid=eyJhcHBfaWQiOjE5Mzk0fQ","regular":"https://images.unsplash.com/photo-1542666594-15c7b33d17ac?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max&ixid=eyJhcHBfaWQiOjE5Mzk0fQ","small":"https://images.unsplash.com/photo-1542666594-15c7b33d17ac?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjE5Mzk0fQ"},"user":{"name":"Chris Barbalis","links":{"html":"https://unsplash.com/@cbarbalis"}}}},"pageContext":{"slug":"/dependency-hell/","unsplash":"Gf47cZJxrSw"}}